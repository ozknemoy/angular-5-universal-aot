
<nav-header></nav-header>
<div class="lk_promotions">
  <div class="lk_promotions--wellcome">
    <div class="lk_promotions--wellcome--wrap">
      <h1 class="page-title">Список партнеров</h1>
      <p>Unde vero recusandae maiores id sit officiis neque maxime ex dolore iure vel voluptatibus ab omnis perferendis magnam, at quod, officia excepturi.</p>
      <div class="lk_promotions--tabs">
        <ul class="nav nav-tabs nav-tabs-success justify-content-center" role="tablist">
          <li class="nav-item">
            <button class="nav-link pointer" (click)="type = Type.List" [ngClass]="{active:type === Type.List}">
              <i class="now-ui-icons design_bullet-list-67"></i> Списком
            </button>
          </li>
          <li class="nav-item">
            <button class="nav-link pointer" (click)="type = Type.Map" [ngClass]="{active:type === Type.Map}">
              <i class="now-ui-icons location_pin"></i> На к карте
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="lk_promotions--list">
    <div class="container-fluid">
      <div class="tab-content" [ngSwitch]="type">
        <ng-template [ngSwitchCase]="Type.List">
          <div>
            <div class="form-group">
              <div class="row align-items-center">
                <div class="col-12 col-md-3">
                  <div class="form-group">
                    <select class="form-control">
                      <option value="">Все операции</option>
                      <option value="">Получить баллы баллы</option>
                      <option value="">Потратить баллы баллы</option>
                    </select>
                  </div>
                </div>
                <div class="col-12 col-md-3">
                  <div class="form-group">
                    <select class="form-control" [(ngModel)]="filter.category.id">
                      <option value="">Все категории</option>
                      <option *ngFor="let cat of categories" [ngValue]="cat.id">{{cat.name}}</option>
                    </select>
                  </div>
                </div>
                <div class="col-12 col-md-3">
                  <div class="form-group">
                    <input type="text" [(ngModel)]="filter.name" class="form-control" placeholder="Название">
                    <!--<input type="text" class="form-control" placeholder="метро" [(ngModel)]="filter.metro">-->
                  </div>
                </div>
                <div class="col-12 col-md-3">
                  <div class="form-group">
                    <div class="checkbox text-white">
                      <input id="remember" type="checkbox">
                      <label for="remember">
                        Акиция
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-12 col-md-6 col-lg-4 col-xl-2" *ngFor="let partner of partners | filter:filter:false">
                <a routerLink="/partner/{{partner.id}}" class="lk_promotions--item">
                  <span class="lk_promotions--img"><img src="{{partner.image}}" alt=""></span>
                  <span class="lk_promotions--footer">
                        <span class="lk_promotions--title">
                          {{partner.name}}
                        </span>
                        <span class="lk_promotions--category">{{partner.category.name}}</span>
                        <span class="lk_promotions--address">
                          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" xml:space="preserve"><polygon points="65.8,28.8 50.3,60.8 35,28.8 22.3,67.4 20.1,67.4 20.1,71.7 33,71.7 33,67.6 31,67.6 37.3,50.3 48.7,71.7    51.8,71.7 63.2,50.1 69.6,67.4 67.3,67.4 67.3,71.7 80.5,71.7 80.5,67.4 78.2,67.4  "></polygon><path d="M50,12c-12.1,0-23.5,4.8-32,13.4C9.6,34,5,45.3,5.1,57.2c0,10.4,3.7,20.6,10.4,28.7c0.4,0.5,0.9,0.7,1.5,0.7   c2.4,0,7.2,0,13.2,0c10.1,0,23.1,0.1,33.9,0.1c8.8,0,16.2,0,19.5-0.1c0.6,0,1.1-0.3,1.5-0.8c6.6-8.2,10.1-18.2,10.1-28.7   C95.2,32.3,74.9,12,50,12z M82.5,82.6c-8.6,0.2-35.9,0.1-52.4,0c-5.3,0-9.6,0-12.2,0c-5.7-7.2-8.9-16.2-8.9-25.4   C9,46.3,13.2,36,20.9,28.2C28.7,20.4,39,16,50,16c22.7,0,41.2,18.5,41.2,41.2C91.2,66.5,88.2,75.3,82.5,82.6z"></path></svg>
                          {{partner.metro}}
                        </span>
                        <span class="lk_promotions--ic">
                          <span class="lk_promotions--type"  data-toggle="tooltip" data-placement="top" title="Потратить баллы">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" x="0px" y="0px"><path d="M32.54,29.51a17.26,17.26,0,0,0-1.74-.11,16.9,16.9,0,0,0-10.18,3.22l-17,12.28a5.22,5.22,0,0,0-2.15,4.15L1,84.46a4.86,4.86,0,0,0,4.79,4.91l11.25.14h.53a43.44,43.44,0,0,0,17.76-3.82,30.93,30.93,0,0,0,9-6.26h0a26.72,26.72,0,0,1,4.94-3.85l19.78-12h0a9.19,9.19,0,0,0,4-10.71,9,9,0,0,0-8.4-6.11h0a9.06,9.06,0,0,0-3.29.58L38.42,56h0l0,0a2.85,2.85,0,0,1-1,.18,2.89,2.89,0,0,1-2.24-1.12,3.13,3.13,0,0,1-.58-2L34.75,32A2.49,2.49,0,0,0,32.54,29.51Zm4.7,31.64a7.78,7.78,0,0,0,2.86-.5l.07,0h0L63.11,52a4.06,4.06,0,0,1,1.45-.26h0a4.07,4.07,0,0,1,3.81,2.78,4.19,4.19,0,0,1-1.9,4.84l-19.77,12a31.7,31.7,0,0,0-5.86,4.57h0a26,26,0,0,1-7.58,5.26,38.41,38.41,0,0,1-16.18,3.38L6,84.39l.44-35.28a.23.23,0,0,1,.09-.18l17-12.28a11.93,11.93,0,0,1,6.21-2.25L29.51,53a8.09,8.09,0,0,0,1.65,5.12A7.85,7.85,0,0,0,37.24,61.15Z"></path><path d="M48.75,88.37a8.23,8.23,0,0,0,3.9-1.43A8.34,8.34,0,0,0,58.17,89q.4,0,.81,0a8.33,8.33,0,0,0,5.8-3.25A8.31,8.31,0,0,0,76.38,78q0-.1,0-.21l-.84-8.52a2.49,2.49,0,1,0-4.95.49l.83,8.4a3.33,3.33,0,0,1-5.78,2.26,2.49,2.49,0,0,0-4.22,1.11,3.34,3.34,0,0,1-6.29.62,2.49,2.49,0,0,0-4.35-.27,3.35,3.35,0,0,1-2.51,1.57,2.49,2.49,0,0,0,.49,5Z"></path><path d="M91.12,10.49H47.74a7.86,7.86,0,0,0-7.85,7.85v26.2a2.49,2.49,0,0,0,5,0V28.75H94v25.6a2.88,2.88,0,0,1-2.87,2.87H80.66a2.49,2.49,0,0,0,0,5H91.13A7.86,7.86,0,0,0,99,54.36v-36A7.86,7.86,0,0,0,91.12,10.49ZM44.87,23.78V18.34a2.88,2.88,0,0,1,2.87-2.87H91.12A2.88,2.88,0,0,1,94,18.34v5.44Z"></path></svg>
                          </span>
                          <span class="lk_promotions--type"  data-toggle="tooltip" data-placement="top" title="Получить баллы">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" x="0px" y="0px"><path d="M86.3,44.48H84a31.56,31.56,0,0,1-4.83-6A4.63,4.63,0,0,1,78.57,35,12.67,12.67,0,0,1,80.39,31a5.81,5.81,0,0,0-.8-7.34,6.07,6.07,0,0,0-5-1.67c-.7.08-1.4.19-2.07.31a22.5,22.5,0,0,0-9.17,3.88H50.5a2.5,2.5,0,0,0,0,5H64.15a2.5,2.5,0,0,0,1.56-.55,17.34,17.34,0,0,1,7.69-3.42c.56-.1,1.13-.19,1.71-.26a1.18,1.18,0,0,1,.94.23.82.82,0,0,1,.16,1.07,17.63,17.63,0,0,0-2.51,5.66,9.67,9.67,0,0,0,1.24,7.2,36.55,36.55,0,0,0,6.4,7.71,2.5,2.5,0,0,0,1.69.65H86.3a2.8,2.8,0,0,1,2.8,2.8v9.46a2.11,2.11,0,0,1-.63,1.51,57.6,57.6,0,0,1-14.79,10,8.21,8.21,0,0,0-4.2,4.92L65.31,91.71a1.11,1.11,0,0,1-1.07.79H59A1.12,1.12,0,0,1,58,91.7l-1.85-6.36a3.09,3.09,0,0,0-2.95-2.2H38.94a3.09,3.09,0,0,0-3,2.21L34.14,91.7a1.12,1.12,0,0,1-1.07.8h-5.2a1.11,1.11,0,0,1-1.07-.79l-.58-1.91A90.64,90.64,0,0,0,14.63,66a22.43,22.43,0,0,1,.9-26,2.5,2.5,0,0,0-4-3,27.43,27.43,0,0,0-1.1,31.83,85.73,85.73,0,0,1,11,22.51L22,93.16a6.08,6.08,0,0,0,5.85,4.34h5.2a6.15,6.15,0,0,0,5.87-4.41l1.44-5H51.73l1.44,5A6.15,6.15,0,0,0,59,97.5h5.2a6.08,6.08,0,0,0,5.85-4.33l4.16-13.5a3.2,3.2,0,0,1,1.64-1.91A62.06,62.06,0,0,0,92,66.82a7.07,7.07,0,0,0,2.13-5.08V52.28A7.81,7.81,0,0,0,86.3,44.48Z"></path><path d="M24.75,46.46a11.81,11.81,0,1,0,.82-16.69A11.78,11.78,0,0,0,24.75,46.46Zm4.18-13a6.76,6.76,0,0,1,4.57-1.77h.34a6.81,6.81,0,1,1-4.91,1.76Z"></path><path d="M33,5.08a10,10,0,0,0-.69,14.09h0A10,10,0,1,0,33,5.08ZM43,16.16a5,5,0,1,1,.35-7A5,5,0,0,1,43,16.16Z"></path><path d="M9,11.6a9.46,9.46,0,0,0,5.89,16.47h.48A9.47,9.47,0,1,0,9,11.6Zm9.36,10.32a4.46,4.46,0,1,1,1.46-3.09A4.47,4.47,0,0,1,18.37,21.92Z"></path><circle cx="69.01" cy="47.88" r="3.16" transform="translate(0.77 96.84) rotate(-70.41)"></circle></svg>
                          </span>
                          <span class="badge badge-success">1 акция</span>
                        </span>
                      </span>
                </a>
              </div>
            </div>
          </div>
        </ng-template>
        <ng-template [ngSwitchCase]="Type.Map">
          <div >
            <div class="card">
              <map-view [points]="_partners" (onBoundsChange)="onBoundsChange($event)"></map-view>
            </div>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</div>